@using System.Web.MVC;
@using System.Web.Helpers;
@using ADSystem.Helpers;

@{
    ViewBag.Title = "Subcategorías";
    Layout = "~/Views/Shared/_LayoutGeneral.cshtml";
}

<script type="text/javascript" src="@Url.Js("Class/CatalogSubcategory/Add")"></script>
<style>
    #holder {
        /*margin: 10px;*/
        width: 100%;
        height: 350px;
        border: 5px dashed gray;
        border-radius: 8px;
        background: rgb(230,230,230);
        background-repeat: no-repeat;
        background-size: 100%;
        vertical-align: central;
    }
</style>

<br />
<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Agregar Subcategoría</h3>
    </div>
    <div class="panel-body" data-ng-controller="SubcategoriesController">
        <input type="hidden" class="form-control" id="idCategory" data-ng-model="idCategory" data-ng-init="idCategory='@ViewData["idCategory"]'">
        <div class="form-group">
            <label>Subcategoría</label>
            <input type="text" maxlength="100" class="form-control" id="name" data-ng-model="newSubcategory.name" placeholder="Escriba el nombre de la subcategoria" uppercase />
        </div>
        <br />
        <div class="form-group">
            <label>Descripción</label>
            <input type="text" maxlength="250" class="form-control" id="description" data-ng-model="newSubcategory.description" placeholder="Escriba la descripción de la subcategoria" uppercase />
        </div>
        <section class="container-tab" data-ng-init="fileMethod()">
            <br /><br />
            <div id="file-content" class="table-responsive file">
                <center><label>Arrastre aquí el archivo de imagen que desea agregar</label></center>
                <div id="holder" class=""></div>
                <br />
                * Se permiten imágenes con formato PNG, JPEG y GIF
                <br /><br />
                <br /><br />
                <input type="hidden" id="imgName" />
            </div>
        </section>       
        <div class="form-group text-center">
            <div class="col-sm-12">
                @Html.Raw(HtmlHelperExtension.Button("Categories", "SaveAddSubcategory", "SaveAddSubcategory", "SaveAddSubcategory", "Guardar", "", "", "SaveAddSubcategory()", "btn btn-primary", "Guardando..."))
                &nbsp;&nbsp;&nbsp;
                <button type="button" data-ng-click="IndexSubcategories()" class="btn btn-primary" data-loading-text="Guardando...">Cancelar</button>
            </div>
        </div>
        <br />
        <ul class="list-group">
            <li class="list-group-item errorGeneral" data-ng-repeat="err in valResult.errors">{{ err.propertyName }}: {{ err.errorMessage }}</li>
        </ul>

        <div class="modal" tabindex="-1" role="dialog" id="modalMsg" aria-labelledby="modalReloadPage" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="close"><span aria-hidden="true">&times;</span></button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <span class="dial-text" id="msgModalMsg"></span>
                        </div>
                    </div>
                    <div class="container-btn-modal center-block">
                        <button type="button" class="btn confirmbutton-yes btn-danger btn-sm" data-dismiss="modal">Aceptar</button>
                        <br />
                        <br />
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>